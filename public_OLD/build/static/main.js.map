{"version":3,"file":"main.js","sources":["../../../layout/ejected/nodes.js","../../../layout/ejected/data_source.js","../../../layout/global/head.svelte","../../../layout/global/footer.svelte","../../../layout/scripts/make_title.svelte","../../../layout/global/html.svelte","../../../layout/ejected/client_router.svelte","../../../layout/ejected/main.js"],"sourcesContent":["// TODO: This file is temporary and needs to be removed at some point.\n// It should get automatically generated by plenti based on the \"content/\" folder.\nconst nodes = [\n    {\n        \"path\": \"/blog/post1\",\n        \"type\": \"blog_posts\",\n        \"filename\": \"post1.json\",\n        \"fields\": {\n            \"title\": \"Post 1\",\n            \"description\": \"First blog post.\"\n        }\n    },\n    {\n        \"path\": \"/blog/post2\",\n        \"type\": \"blog_posts\",\n        \"filename\": \"post2.json\",\n        \"fields\": {\n            \"title\": \"Post 2\",\n            \"description\": \"Second blog post.\"\n        }\n    },\n    {\n        \"path\": \"/blog/post3\",\n        \"type\": \"blog_posts\",\n        \"filename\": \"post-3_has_a_long_filename.json\",\n        \"fields\": {\n            \"title\": \"Post 3\",\n            \"description\": \"Third of the blog posts.\"\n        }\n    },\n    {\n        \"path\": \"/about\",\n        \"type\": \"pages\",\n        \"filename\": \"about.json\",\n        \"fields\": {\n            \"title\": \"About Page\",\n            \"description\": \"This is the about page\"\n        }\n    },\n    {\n        \"path\": \"/anything\",\n        \"type\": \"pages\",\n        \"filename\": \"anything.json\",\n        \"fields\": {\n            \"title\": \"Anything!\",\n            \"description\": \"The amazing anything page...\"\n        }\n    },\n    {\n        \"path\": \"/\",\n        \"type\": \"index\",\n        \"filename\": \"_index.json\",\n        \"fields\": {\n            \"name\": \"Plenti\"\n        }\n    }\n];\n\nexport default nodes;\n","import nodes from './nodes.js';\n\nclass DataSource {\n\n  constructor() {}\n\n  static getNode(uri) {\n    let content;\n    nodes.map(node => {\n      if (node.path == uri) {\n        content = node;\n      }\n    });\n    return content ? content : '';\n  }\n\n  static getAllNodes() {\n    let content = nodes.map(node => {\n      return node;\n    });\n    return content;\n  }\n}\n\nexport default DataSource;\n","<script>\n  export let title;\n</script>\n\n<head>\n  <meta charset='utf-8'>\n  <meta name='viewport' content='width=device-width,initial-scale=1'>\n\n  <title>{ title }</title>\n\n  <link href=\"https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300;0,700;1,300&display=swap\" rel=\"stylesheet\">\n  <link rel='icon' type='image/png' href='/favicon.png'>\n  <link rel='stylesheet' href='/build/bundle.css'>\n</head>\n","<script>\n  export let allNodes;\n</script>\n<footer>\n  <div class=\"container\">\n    <span>All nodes:</span>\n    {#each allNodes as node}\n      {#if node.fields.title}\n        <a href=\"{node.path}\">{node.fields.title}</a>&nbsp;\n      {/if}\n    {/each}\n  </div>\n</footer>\n\n<style>\n  footer {\n    min-height: 200px;\n    display: flex;\n    align-items: center;\n    background-color: var(--base);\n    margin-top: 100px;\n  }\n</style>\n","<script context=\"module\">\n  export const makeTitle = filename => {\n  if (filename == '_index.json') {\n    return 'Home';\n  } else if (filename) {\n    // Remove file extension.\n    filename = filename.split('.').slice(0, -1).join('.');\n    // Convert underscores and hyphens to spaces.\n    filename = filename.replace(/_|-/g,' ');\n    // Capitalize first letter of each word.\n    filename = filename.split(' ').map((s) => s.charAt(0).toUpperCase() + s.substring(1)).join(' ');\n  } \n  return filename;\n  }\n</script>\n","<script>\n  import Head from './head.svelte';\n  import Nav from './nav.svelte';\n  import Footer from './footer.svelte';\n  import { makeTitle } from '../scripts/make_title.svelte';\n\n  export let Route, node, allNodes;\n</script>\n\n<html lang=\"en\">\n<Head title={makeTitle(node.filename)} />\n<body>\n  <Nav />\n  <main>\n    <div class=\"container\">\n      <svelte:component this={Route} {...node.fields} {allNodes} />\n      <br />\n      <details>\n        <summary>Click to show Route class</summary>\n        <pre>{Route}</pre>\n      </details>\n    </div>\n  </main>\n  <Footer {allNodes} />\n</body>\n</html>\n\n<style>\n  body {\n    font-family: 'Rubik', sans-serif;\n    display: flex;\n    flex-direction: column;\n    margin: 0;\n  }\n  main {\n    flex-grow: 1;\n  }\n  :global(.container) {\n    max-width: 1024px;\n    margin: 0 auto;\n    flex-grow: 1;\n  }\n  :global(:root) {\n    --primary: (50, 50, 50);\n    --accent: rgb(1, 1, 1);\n    --base: rgb(245, 245, 245);\n  }\n</style>\n","<Html {Route} {node} {allNodes} />\n\n<script>\n  import Navaid from 'navaid';\n  import DataSource from './data_source.js';\n  import { onDestroy } from 'svelte';\n  import Html from '../global/html.svelte';\n\n  let Route, node, allNodes;\n\n  let uri = location.pathname;\n  node = DataSource.getNode(uri);\n  allNodes = DataSource.getAllNodes();\n\n  function draw(m) {\n    Route = m.default;\n    window.scrollTo(0, 0);\n  }\n\n  function track(obj) {\n    uri = obj.state || obj.uri;\n    if (window.ga) ga.send('pageview', { dp:uri });\n\n    node = DataSource.getNode(uri);\n    allNodes = DataSource.getAllNodes();\n  }\n\n  addEventListener('replacestate', track);\n  addEventListener('pushstate', track);\n  addEventListener('popstate', track);\n\n  const router = Navaid('/')\n    .on('/', () => import('../content/index.svelte').then(draw))\n    .on('/:slug', () => import('../content/pages.svelte').then(draw))\n    .on('/blog/:slug', () => import('../content/blog_posts.svelte').then(draw))\n    .listen();\n\n  onDestroy(router.unlisten);\n</script>\n","import Router from './client_router.svelte';\n\nif ('serviceWorker' in navigator) {\n  navigator.serviceWorker.register('/jim-service-worker.js')\n  .then((reg) => {\n    console.log('Service Worker registration succeeded.');\n  }).catch((error) => {\n    console.log('Service Worker registration failed with ' + error);\n  });\n} else {\n  console.log('Service Workers not supported by browser')\n}\n\nconst replaceContainer = function ( Component, options ) {\n  const frag = document.createDocumentFragment();\n  const component = new Component( Object.assign( {}, options, { target: frag } ));\n  if (options.target) {\n    options.target.replaceWith( frag );\n  }\n  return component;\n}\n\nconst app = replaceContainer( Router, {\n  target: document.querySelector( '#hydrate-plenti' ),\n  props: {}\n});\n\nexport default app;\n"],"names":["onDestroy","Router"],"mappings":";;;;;;;;AAAA;AACA;AACA,MAAM,KAAK,GAAG;AACd,IAAI;AACJ,QAAQ,MAAM,EAAE,aAAa;AAC7B,QAAQ,MAAM,EAAE,YAAY;AAC5B,QAAQ,UAAU,EAAE,YAAY;AAChC,QAAQ,QAAQ,EAAE;AAClB,YAAY,OAAO,EAAE,QAAQ;AAC7B,YAAY,aAAa,EAAE,kBAAkB;AAC7C,SAAS;AACT,KAAK;AACL,IAAI;AACJ,QAAQ,MAAM,EAAE,aAAa;AAC7B,QAAQ,MAAM,EAAE,YAAY;AAC5B,QAAQ,UAAU,EAAE,YAAY;AAChC,QAAQ,QAAQ,EAAE;AAClB,YAAY,OAAO,EAAE,QAAQ;AAC7B,YAAY,aAAa,EAAE,mBAAmB;AAC9C,SAAS;AACT,KAAK;AACL,IAAI;AACJ,QAAQ,MAAM,EAAE,aAAa;AAC7B,QAAQ,MAAM,EAAE,YAAY;AAC5B,QAAQ,UAAU,EAAE,iCAAiC;AACrD,QAAQ,QAAQ,EAAE;AAClB,YAAY,OAAO,EAAE,QAAQ;AAC7B,YAAY,aAAa,EAAE,0BAA0B;AACrD,SAAS;AACT,KAAK;AACL,IAAI;AACJ,QAAQ,MAAM,EAAE,QAAQ;AACxB,QAAQ,MAAM,EAAE,OAAO;AACvB,QAAQ,UAAU,EAAE,YAAY;AAChC,QAAQ,QAAQ,EAAE;AAClB,YAAY,OAAO,EAAE,YAAY;AACjC,YAAY,aAAa,EAAE,wBAAwB;AACnD,SAAS;AACT,KAAK;AACL,IAAI;AACJ,QAAQ,MAAM,EAAE,WAAW;AAC3B,QAAQ,MAAM,EAAE,OAAO;AACvB,QAAQ,UAAU,EAAE,eAAe;AACnC,QAAQ,QAAQ,EAAE;AAClB,YAAY,OAAO,EAAE,WAAW;AAChC,YAAY,aAAa,EAAE,8BAA8B;AACzD,SAAS;AACT,KAAK;AACL,IAAI;AACJ,QAAQ,MAAM,EAAE,GAAG;AACnB,QAAQ,MAAM,EAAE,OAAO;AACvB,QAAQ,UAAU,EAAE,aAAa;AACjC,QAAQ,QAAQ,EAAE;AAClB,YAAY,MAAM,EAAE,QAAQ;AAC5B,SAAS;AACT,KAAK;AACL,CAAC;;ACtDD,MAAM,UAAU,CAAC;AACjB;AACA,EAAE,WAAW,GAAG,EAAE;AAClB;AACA,EAAE,OAAO,OAAO,CAAC,GAAG,EAAE;AACtB,IAAI,IAAI,OAAO,CAAC;AAChB,IAAI,KAAK,CAAC,GAAG,CAAC,IAAI,IAAI;AACtB,MAAM,IAAI,IAAI,CAAC,IAAI,IAAI,GAAG,EAAE;AAC5B,QAAQ,OAAO,GAAG,IAAI,CAAC;AACvB,OAAO;AACP,KAAK,CAAC,CAAC;AACP,IAAI,OAAO,OAAO,GAAG,OAAO,GAAG,EAAE,CAAC;AAClC,GAAG;AACH;AACA,EAAE,OAAO,WAAW,GAAG;AACvB,IAAI,IAAI,OAAO,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,IAAI;AACpC,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK,CAAC,CAAC;AACP,IAAI,OAAO,OAAO,CAAC;AACnB,GAAG;AACH,CAAC;;;;;OCrBY,KAAK;;;;;;2BAOP,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OCPH,QAAQ;;;;;oBAKV,QAAQ,aACR,IAAI,CAAC,MAAM,CAAC,KAAK;uCACV,IAAI,CAAC,IAAI,wBAAI,IAAI,CAAC,MAAM,CAAC,KAAK;;;;;;;MCPjC,SAAS,GAAG,QAAQ;KAC7B,QAAQ,IAAI,aAAa;SACpB,MAAM;YACJ,QAAQ;;EAEjB,QAAQ,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG;;;EAEpD,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAM,EAAC,GAAG;;;EAEtC,QAAQ,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAE,CAAC,IAAK,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,WAAW,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG;;;QAEzF,QAAQ;;;;;;;;;;;;;;;OCNJ,KAAK,gBAAE,IAAI,gBAAE,QAAQ;;;;;;sGAIrB,SAAS,CAAC,IAAI,CAAC,QAAQ;;6FAKN,KAAK,qFAAM,IAAI,CAAC,MAAM;;;+BAItC,KAAK;;;;;;;;KCbb,KAAK,EAAE,IAAI,EAAE,QAAQ;KAErB,GAAG,GAAG,QAAQ,CAAC,QAAQ;CAC3B,IAAI,GAAG,UAAU,CAAC,OAAO,CAAC,GAAG;CAC7B,QAAQ,GAAG,UAAU,CAAC,WAAW;;UAExB,IAAI,CAAC,CAAC;EACb,KAAK,GAAG,CAAC,CAAC,OAAO;EACjB,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC;;;UAGb,KAAK,CAAC,GAAG;EAChB,GAAG,GAAG,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,GAAG;MACtB,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,EAAC,GAAG;EAE3C,IAAI,GAAG,UAAU,CAAC,OAAO,CAAC,GAAG;EAC7B,QAAQ,GAAG,UAAU,CAAC,WAAW;;;CAGnC,gBAAgB,CAAC,cAAc,EAAE,KAAK;CACtC,gBAAgB,CAAC,WAAW,EAAE,KAAK;CACnC,gBAAgB,CAAC,UAAU,EAAE,KAAK;OAE5B,MAAM,GAAG,MAAM,CAAC,GAAG,EACtB,EAAE,CAAC,GAAG,yDAAe,qBAAyB,OAAE,IAAI,CAAC,IAAI,GACzD,EAAE,CAAC,QAAQ,yDAAe,qBAAyB,OAAE,IAAI,CAAC,IAAI,GAC9D,EAAE,CAAC,aAAa,yDAAe,0BAA8B,OAAE,IAAI,CAAC,IAAI,GACxE,MAAM;CAETA,gBAAS,CAAC,MAAM,CAAC,QAAQ;;;;ACjC3B,IAAI,eAAe,IAAI,SAAS,EAAE;AAClC,EAAE,SAAS,CAAC,aAAa,CAAC,QAAQ,CAAC,wBAAwB,CAAC;AAC5D,GAAG,IAAI,CAAC,CAAC,GAAG,KAAK;AACjB,IAAI,OAAO,CAAC,GAAG,CAAC,wCAAwC,CAAC,CAAC;AAC1D,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK;AACtB,IAAI,OAAO,CAAC,GAAG,CAAC,0CAA0C,GAAG,KAAK,CAAC,CAAC;AACpE,GAAG,CAAC,CAAC;AACL,CAAC,MAAM;AACP,EAAE,OAAO,CAAC,GAAG,CAAC,0CAA0C,EAAC;AACzD,CAAC;AACD;AACA,MAAM,gBAAgB,GAAG,WAAW,SAAS,EAAE,OAAO,GAAG;AACzD,EAAE,MAAM,IAAI,GAAG,QAAQ,CAAC,sBAAsB,EAAE,CAAC;AACjD,EAAE,MAAM,SAAS,GAAG,IAAI,SAAS,EAAE,MAAM,CAAC,MAAM,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;AACnF,EAAE,IAAI,OAAO,CAAC,MAAM,EAAE;AACtB,IAAI,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,EAAE,CAAC;AACvC,GAAG;AACH,EAAE,OAAO,SAAS,CAAC;AACnB,EAAC;AACD;AACA,MAAM,GAAG,GAAG,gBAAgB,EAAEC,aAAM,EAAE;AACtC,EAAE,MAAM,EAAE,QAAQ,CAAC,aAAa,EAAE,iBAAiB,EAAE;AACrD,EAAE,KAAK,EAAE,EAAE;AACX,CAAC,CAAC,CAAC;;;;"}